var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n},gardener;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(egret.DisplayObjectContainer);e.BaseFloatTip=t,__reflect(t.prototype,"gardener.BaseFloatTip");var n=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(eui.Component);e.EUIBaseFloatTip=n,__reflect(n.prototype,"gardener.EUIBaseFloatTip")}(gardener||(gardener={}));var gardener;!function(e){function t(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.StringResourceJson?n?(o=e.StringResourceJson[t]).format.apply(o,n):e.StringResourceJson[t]:"";var o}function n(t,n){e._instance=e.Gardener.__init(t,n),dragonBones&&(e._dbAnimeGeneratorInstance=e.DbAnimeGenerator.__initAnimeGenerator())}function i(){return e._instance?!0:(egret.error("The Gardener is not initialized! 'gardener.initGardener()' should be executed first."),!1)}function o(t,n){e._instance.__loadScene(t,n)}function r(t){e._instance.__openWindow(t,!1,!1)}function a(t){e._instance.__openWindow(t,!0)}function s(t){e._instance.__closeWindow(t)}function l(){e._instance.__clearWindowHistory()}function p(t){e._instance.__openPopup(t)}function d(t){e._instance.__closePopup(t)}function _(t,n){e._instance.__showMessageBox(t,n)}function h(){e._instance.__closeMessageBox(null,!0)}function u(t){e._instance.__closeMessageBox(t)}function g(t){e._instance.__showFloatTip(t)}function c(t){e._instance.__addNavigator(t)}function f(){return e._instance.__findCurrentPopup()}function C(t){return e._instance.__findCurrentPopupByClass(t)}function v(){return e._instance.__findCurrentWindow()}function y(t){return e._instance.__findCurrentWindowByClass(t)}function w(){return e._instance.__findCurrnetScene()}function m(t){return e._instance.__findCurrentSceneByClass(t)}function b(t){e._instance.__showLoadingMask(t)}function A(t){e._instance.__removeLoadingMask(t)}function E(t,n,i){return e._dbAnimeGeneratorInstance.__generateMovieClip(t,n,i)}function M(t,n,i){return e._dbAnimeGeneratorInstance.__generateMovieClip(t,n,i,!1)}function D(){e._dbAnimeGeneratorInstance.__disposeMovieClipData()}function B(t){e._dbAnimeGeneratorInstance.__disposeMovieClipData(t)}function T(t,n,i,o){return e._dbAnimeGeneratorInstance.__generateDbbinAnime(t,n,i,o)}function S(t){e._dbAnimeGeneratorInstance.__disposeDbbinAnime(t)}function O(){e._dbAnimeGeneratorInstance.__disposeDBFactoryData()}function P(t){e._dbAnimeGeneratorInstance.__disposeDBFactoryData(t)}function W(){e._dbAnimeGeneratorInstance.__startDbWorldClock()}function x(){e._dbAnimeGeneratorInstance.__stopDbWorldClock()}e.getString=t;var k=function(t){function n(e,n){var i=t.call(this)||this;return i.__windowHistoryList=new Array,i.__mainContainer=e,i.__initContainers(e,n),i}return __extends(n,t),n.prototype.__initContainers=function(t,n){var i=new egret.DisplayObjectContainer;i.width=n.stageWidth,i.height=n.stageHeight,e.SceneContainer=this.__sceneContainer=i,t.addChild(this.__sceneContainer);var o=new egret.Sprite;if(o.width=n.stageWidth,o.height=n.stageHeight,o.graphics.beginFill(n.windowContainerMaskColor,n.windowContainerMaskAlpha),o.graphics.drawRect(0,0,o.width,o.height),o.graphics.endFill(),o.touchEnabled=!0,t.addChild(o),e.WindowContainer=this.__windowContainer=o,n.navigatorContainerAvailable===!0){var r=new egret.DisplayObjectContainer;r.width=n.stageWidth,r.height=n.stageHeight,r.touchEnabled=!1,r.touchChildren=!0,t.addChild(r),e.NavigatorContainer=this.__navigatorContainer=r}var a=new egret.Sprite;a.width=n.stageWidth,a.height=n.stageHeight,a.graphics.beginFill(n.popupContainerMaskColor,n.popupContainerMaskAlpha),a.graphics.drawRect(0,0,a.width,a.height),a.graphics.endFill(),a.touchEnabled=!0,a.visible=!1,t.addChild(a),e.PopupContainer=this.__popupContainer=a;var s=new egret.Sprite;s.width=n.stageWidth,s.height=n.stageHeight,s.graphics.beginFill(n.messageContainerMaskColor,n.messageContainerMaskAlpha),s.graphics.drawRect(0,0,s.width,s.height),s.graphics.endFill(),s.touchEnabled=!0,s.visible=!1,s.addEventListener(egret.TouchEvent.TOUCH_TAP,this.__onMessageContainerBg_Tap,this),t.addChild(s),e.MessageContainer=this.__messageContainer=s},n.__init=function(t,n){return n=n||{},n.orientation=n.orientation||t.stage.orientation,n.stringResName&&(e.StringResourceJson=RES.getRes(n.stringResName)),n.stageHeight=e.StageHeight=n.stageHeight||t.stage.stageHeight,n.stageWidth=e.StageWidth=n.stageWidth||t.stage.stageWidth,n.windowContainerMaskColor=n.windowContainerMaskColor||0,n.windowContainerMaskAlpha=n.windowContainerMaskAlpha||0,n.popupContainerMaskColor=n.popupContainerMaskColor||0,n.popupContainerMaskAlpha=n.popupContainerMaskAlpha||.1,n.messageContainerMaskColor=n.messageContainerMaskColor||0,n.messageContainerMaskAlpha=n.messageContainerMaskAlpha||.1,n.popupPositionHori=n.popupPositionHori||.5,n.popupPositionVert=n.popupPositionVert||.5,n.allowMultipleMessageBoxes=void 0===n.allowMultipleMessageBoxes?!0:n.allowMultipleMessageBoxes,n.showMultipleMessageBoxesOffset=n.showMultipleMessageBoxesOffset||10,n.navigatorContainerAvailable=void 0===n.navigatorContainerAvailable?!1:n.navigatorContainerAvailable,e.Configuration=n,e._instance||new e.Gardener(t,n)},n.prototype.__loadScene=function(t,n){var i=this;void 0===n&&(n=!0),this.__closeWindow(!0);var o=this.__sceneContainer,r=o.numChildren>0?o.getChildAt(0):void 0;if(r&&egret.getQualifiedClassName(r)==egret.getQualifiedClassName(t))return!1;if(n){t.y=e.StageHeight,t.x=0;var a=function(){t.removeEventListener(egret.Event.ADDED_TO_STAGE,a,self),egret.Tween.get(t).wait(60).to({y:0,x:0},300,egret.Ease.circOut).call(function(){t.display(),r&&(o.removeChild(r),r.dispose())},self),(r&&e.Configuration.orientation==egret.OrientationMode.LANDSCAPE||e.Configuration.orientation==egret.OrientationMode.LANDSCAPE_FLIPPED)&&egret.Tween.get(r).to({x:-20,y:20},100)};t.addEventListener(egret.Event.ADDED_TO_STAGE,a,this),o.addChild(t)}else{var s=function(){t.display(),t.removeEventListener(egret.Event.ADDED_TO_STAGE,s,i),r&&o.removeChild(r),egret.setTimeout(function(){r&&r.dispose()},i,30)};t.addEventListener(egret.Event.ADDED_TO_STAGE,s,this),o.addChild(t)}return!0},n.prototype.__clearWindowHistory=function(){var e=this.__windowHistoryList.splice(0);e.forEach(function(e){e.dispose()}),e=null},n.prototype.__openWindow=function(t,n,i){var o=this;void 0===n&&(n=!1),void 0===i&&(i=!1);var r=this.__windowContainer,a=r.numChildren>0?r.getChildAt(0):void 0,s=a?200:80;a&&n&&this.__windowHistoryList.push(a);var l,p;e.Configuration.orientation==egret.OrientationMode.LANDSCAPE||e.Configuration.orientation==egret.OrientationMode.LANDSCAPE_FLIPPED?(i?(t.y=.5*-(e.StageHeight+t.height),t.x=.5*(2*e.StageWidth-t.width)):(t.y=.5*(3*e.StageHeight-t.height),t.x=.5*-t.width),a&&(p=.5*-(e.StageHeight+a.height),l=.5*(2*e.StageWidth-a.width))):(i?(t.y=.5*(this.__windowContainer.height-t.height),t.x=.5*-(e.StageWidth+t.width)):(t.y=.5*(this.__windowContainer.height-t.height),t.x=.5*(3*e.StageWidth-t.width)),a&&(l=.5*-(e.StageWidth+a.width),p=.5*(this.__windowContainer.height-a.height))),a&&(egret.Tween.removeTweens(a),egret.Tween.get(a).to({x:l,y:p},s,egret.Ease.circIn).call(function(){r.removeChild(a)},this));var d=function(){t.removeEventListener(egret.Event.ADDED_TO_STAGE,d,o);var e=.5*(o.__windowContainer.width-t.width),i=.5*(o.__windowContainer.height-t.height);egret.Tween.get(t).wait(s).to({x:e,y:i},300,egret.Ease.circOut).call(function(){t.display(),n||(a&&a.dispose(),o.__clearWindowHistory())},o)};t.addEventListener(egret.Event.ADDED_TO_STAGE,d,this),r.addChild(t),r.visible=!0},n.prototype.__closeWindow=function(t){var n=this;void 0===t&&(t=!1);var i=this.__windowContainer,o=this.__windowHistoryList;if(i.numChildren>0){var r=i.numChildren>0?i.getChildAt(0):void 0,a=void 0,s=void 0;e.Configuration.orientation==egret.OrientationMode.LANDSCAPE||e.Configuration.orientation==egret.OrientationMode.LANDSCAPE_FLIPPED?!t&&o.length>0?(s=.5*(3*e.StageHeight-r.height),a=.5*-r.width):(s=.5*-(e.StageHeight+r.height),a=.5*(2*e.StageWidth-r.width)):!t&&o.length>0?(s=.5*(this.__windowContainer.height-r.height),a=.5*(3*e.StageWidth-r.width)):(s=.5*(this.__windowContainer.height-r.height),a=.5*-(e.StageWidth+r.width)),egret.Tween.get(r).to({x:a,y:s},200,egret.Ease.circIn).call(function(){if(i.visible=!1,egret.Tween.removeTweens(r),i.removeChild(r),r.dispose(),t)n.__clearWindowHistory();else if(o.length>0){var e=o.pop();n.__openWindow(e,!1,!0)}},this)}else i.visible=!1},n.prototype.__openPopup=function(t){var n=this;this.__closePopup(!0);var i=this.__popupContainer;if(!0===t.showPopAnime){t.x=e.StageWidth*e.Configuration.popupPositionHori,t.y=e.StageHeight*(e.Configuration.popupPositionVert-.13),t.alpha=0;var o=function(){t.removeEventListener(egret.Event.ADDED_TO_STAGE,o,n),egret.Tween.get(t).wait(80).to({y:e.StageHeight*e.Configuration.popupPositionVert,alpha:1},300,egret.Ease.sineOut).call(function(){t.display()},n)};t.addEventListener(egret.Event.ADDED_TO_STAGE,o,this),t.anchorOffsetX=.5*t.width,t.anchorOffsetY=.5*t.height}i.addChild(t),i.visible=!0},n.prototype.__closePopup=function(t){void 0===t&&(t=!1);var n=this.__popupContainer;if(n.numChildren>0){var i=n.numChildren>0?n.getChildAt(0):void 0;t?(egret.Tween.removeTweens(i),n.removeChildren(),i.dispose(),n.visible=!1):egret.Tween.get(i).to({y:e.StageHeight*(e.Configuration.popupPositionVert-.13),alpha:0},200,egret.Ease.sineIn).call(function(){n.removeChildren(),n.visible=!1,i.dispose()},this)}else n.visible=!1},n.prototype.__showFloatTip=function(e){e.alpha=0,this.__mainContainer.stage.addChild(e),egret.Tween.get(e).wait(30).to({alpha:1},300).wait(500).to({y:e.y-100},1e3).to({y:e.y-150,alpha:0},500).call(function(){e.parent&&e.parent.removeChild(e),e.dispose()},this)},n.prototype.__showMessageBox=function(t,n){void 0===n&&(n=!1),this.__messageContainer.visible=!0;var i=this.__messageContainer;if(i.numChildren>0&&(n||!e.Configuration.allowMultipleMessageBoxes)){var o=i.$children;i.removeChildren(),o.forEach(function(e){egret.Tween.removeTweens(e),e.dispose()}),o=null}t.anchorOffsetX=.5*t.width,t.anchorOffsetY=.5*t.height,t.scaleX=t.scaleY=0;var r=t.AllowMultipleOffsetPosition?i.numChildren*e.Configuration.showMultipleMessageBoxesOffset:0;t.x=.5*e.StageWidth+r,t.y=.5*e.StageHeight+r,i.addChild(t),egret.Tween.get(t).wait(30).to({scaleX:1,scaleY:1},260,egret.Ease.backOut).call(function(){t.display()})},n.prototype.__closeMessageBox=function(e,t){void 0===t&&(t=!1);var n=this.__messageContainer;if(!e&&n.numChildren<=0)return void(n.visible=!1);if(t){if(n.numChildren>0){var i=n.$children;n.removeChildren(),i.forEach(function(e){egret.Tween.removeTweens(e),e.dispose()}),i=null}}else e&&(egret.Tween.removeTweens(e),e.parent&&e.parent.removeChild(e),e.dispose());n.numChildren<=0&&(n.visible=!1)},n.prototype.__onMessageContainerBg_Tap=function(e){var t=this.__messageContainer;if(e.target==t)if(t.numChildren>0){var n=t.getChildAt(t.numChildren-1);!0===n.AllowCloseByTapBg&&this.__closeMessageBox(n)}else t.visible=!1},n.prototype.__addNavigator=function(e){this.__navigatorContainer.addChild(e)},n.prototype.__findCurrentPopup=function(){return this.__popupContainer.numChildren>0?this.__popupContainer.getChildAt(0):null},n.prototype.__findCurrentPopupByClass=function(e){return this.__popupContainer.numChildren>0&&this.__popupContainer.getChildAt(0)instanceof e?this.__popupContainer.getChildAt(0):null},n.prototype.__findCurrentWindow=function(){return this.__windowContainer.numChildren>0?this.__windowContainer.getChildAt(0):null},n.prototype.__findCurrentWindowByClass=function(e){return this.__windowContainer.numChildren>0&&this.__windowContainer.getChildAt(0)instanceof e?this.__windowContainer.getChildAt(0):null},n.prototype.__findCurrnetScene=function(){return this.__sceneContainer.numChildren>0?this.__sceneContainer.getChildAt(0):null},n.prototype.__findCurrentSceneByClass=function(e){return this.__sceneContainer.numChildren>0&&this.__sceneContainer.getChildAt(0)instanceof e?this.__sceneContainer.getChildAt(0):null},n.prototype.__removeLoadingMask=function(e){e&&this.__mainContainer.stage.contains(e)&&this.__mainContainer.stage.removeChild(e)},n.prototype.__showLoadingMask=function(e){return this.__mainContainer.stage.addChild(e),e},n}(egret.EventDispatcher);e.Gardener=k,__reflect(k.prototype,"gardener.Gardener"),e.initGardener=n,e.checkGgValid=i,e.loadScene=o,e.openWindow=r,e.openWindowAndSavingPrevious=a,e.closeWindow=s,e.clearWindowHistory=l,e.openPopup=p,e.closePopup=d,e.showMessageBox=_,e.closeAllMessageBoxes=h,e.closeMessageBox=u,e.showFloatTip=g,e.addNavigator=c,e.findCurrentPopup=f,e.findCurrentPopupByClass=C,e.findCurrentWindow=v,e.findCurrentWindowByClass=y,e.findCurrentScene=w,e.findCurrentSceneByClass=m,e.showLoadingMask=b,e.removeLoadingMask=A,e.dbGenerateMovieClip=E,e.dbGenerateMovieClipWithCache=M,e.dbDisposeAllMovieClipData=D,e.dbDisposeMovieClipData=B,e.dbGenerateDbbinAnime=T,e.dbDisposeDbbinAnime=S,e.dbDisposeAllDbbinFactoryData=O,e.dbDisposeDbbinFactoryData=P,e.dbStartDbWorldClock=W,e.dbStopDbWorldClock=x}(gardener||(gardener={}));var gardener;!function(e){var t=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n._allowCloseByTapBg=!1,n._allowMultipleOffsetPosition=!0,n._allowCloseByTapBg=t,n}return __extends(t,e),Object.defineProperty(t.prototype,"AllowCloseByTapBg",{get:function(){return this._allowCloseByTapBg},set:function(e){this._allowCloseByTapBg=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AllowMultipleOffsetPosition",{get:function(){return this._allowMultipleOffsetPosition},set:function(e){this._allowMultipleOffsetPosition=e},enumerable:!0,configurable:!0}),t}(egret.DisplayObjectContainer);e.BaseMessageBox=t,__reflect(t.prototype,"gardener.BaseMessageBox");var n=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n._allowCloseByTapBg=!1,n._allowMultipleOffsetPosition=!0,n._allowCloseByTapBg=t,n}return __extends(t,e),Object.defineProperty(t.prototype,"AllowCloseByTapBg",{get:function(){return this._allowCloseByTapBg},set:function(e){this._allowCloseByTapBg=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AllowMultipleOffsetPosition",{get:function(){return this._allowMultipleOffsetPosition},set:function(e){this._allowMultipleOffsetPosition=e},enumerable:!0,configurable:!0}),t}(eui.Component);e.EUIBaseMessageBox=n,__reflect(n.prototype,"gardener.EUIBaseMessageBox")}(gardener||(gardener={}));var gardener;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._isInitCompleted=!1,t.showPopAnime=!0,t}return __extends(t,e),t.prototype.display=function(){},t.prototype.dispose=function(){},t}(egret.DisplayObjectContainer);e.BasePopup=t,__reflect(t.prototype,"gardener.BasePopup");var n=function(e){function t(){var t=e.call(this)||this;return t._isInitCompleted=!1,t.showPopAnime=!0,t}return __extends(t,e),t.prototype.display=function(){},t.prototype.dispose=function(){},t}(eui.Component);e.EUIBasePopup=n,__reflect(n.prototype,"gardener.EUIBasePopup")}(gardener||(gardener={}));var gardener;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._isInitCompleted=!1,n.height=e.StageHeight,n.width=e.StageWidth,n}return __extends(n,t),n.prototype.display=function(){},n.prototype.dispose=function(){},n}(egret.DisplayObjectContainer);e.BaseScene=t,__reflect(t.prototype,"gardener.BaseScene");var n=function(t){function n(){var n=t.call(this)||this;return n._isInitCompleted=!1,n.height=e.StageHeight,n.width=e.StageWidth,n}return __extends(n,t),n.prototype.display=function(){},n.prototype.dispose=function(){},n}(eui.Component);e.EUIBaseScene=n,__reflect(n.prototype,"gardener.EUIBaseScene")}(gardener||(gardener={}));var gardener;!function(e){var t=function(t){function n(){var n=t.call(this)||this;return n._isInitCompleted=!1,n.width=e.WindowContainer.width,n.height=e.WindowContainer.height,n}return __extends(n,t),n.prototype.display=function(){},n.prototype.dispose=function(){},n}(egret.DisplayObjectContainer);e.BaseWindow=t,__reflect(t.prototype,"gardener.BaseWindow");var n=function(t){function n(){var n=t.call(this)||this;return n._isInitCompleted=!1,n.width=e.WindowContainer.width,n.height=e.WindowContainer.height,n}return __extends(n,t),n.prototype.display=function(){},n.prototype.dispose=function(){},n}(eui.Component);e.EUIBaseWindow=n,__reflect(n.prototype,"gardener.EUIBaseWindow")}(gardener||(gardener={}));var gardener;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e.__dbFactoryTsMap=new TsMap,e.__dbFactoryIndex=0,e}return __extends(n,t),n.prototype.__worlClock=function(){dragonBones.WorldClock.clock.advanceTime(-1)},n.prototype.__generateMovieClip=function(e,t,n,i){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=!0);var o;try{dragonBones.hasMovieGroup(e)||dragonBones.addMovieGroup(RES.getRes(e+"_ske_dbmv"),RES.getRes(e+"_tex_png"),e),o=dragonBones.buildMovie("MovieClip",e),o?(o.name=e,n&&o.addEventListener(dragonBones.AnimationEvent.COMPLETE,this.__removeMovieCilpAfterComplete,this),t&&o.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.__disposeMovieAnimeAfterUnload,this)):egret.error("__generateMovieClip error: no movie "+e),i&&dragonBones.removeMovieGroup(e)}catch(r){egret.error("__generateMovieClip error:"+e)}return o},n.prototype.__generateDbbinAnime=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1),this.hasEventListener(egret.Event.ENTER_FRAME)||egret.warn("the dragonbones world clock is stop, try to start, call function: gardener.startDbWorldClock()");var o,r,a=this.__dbFactoryTsMap;try{if(a.containsKey(e))r=a.get(e);else{var s=RES.getRes(e+"_ske_dbbin"),l=RES.getRes(e+"_tex_json"),p=RES.getRes(e+"_tex_png");r=new dragonBones.EgretFactory,r.parseDragonBonesData(s),r.parseTextureAtlasData(l,p),a.put(e,r)}o=r.buildArmatureDisplay(t),e+=++this.__dbFactoryIndex,o?(o.name=e,i&&o.addEventListener(dragonBones.AnimationEvent.COMPLETE,this.__removeDbbinAnimeAfterComplete,this),n&&o.once(egret.Event.REMOVED_FROM_STAGE,this.__disposeDbbinAnimeAfterUnload,this),dragonBones.WorldClock.clock.add(o.armature)):egret.error("__generateDbbinAnime error: no armatureDisplay "+e)}catch(d){egret.error("__generateDbbinAnime error: "+e)}return a=null,o},n.prototype.__disposeDbbinAnimeAfterUnload=function(e){var t=e.target;this.__disposeDbbinAnime(t)},n.prototype.__disposeDbbinAnime=function(e){try{null!=e&&e.animation&&e.armature&&(dragonBones.WorldClock.clock.remove(e.armature),e.removeEventListener(dragonBones.AnimationEvent.COMPLETE,this.__removeDbbinAnimeAfterComplete,this),e.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.__disposeDbbinAnimeAfterUnload,this),e.animation.stop(),e.armature.dispose(),e.dispose(),e=null)}catch(t){egret.error("__disposeDbbinAnime error: "+e.name)}},n.prototype.__removeDbbinAnimeAfterComplete=function(e){var t=e.target;try{null!=t&&null!=t.parent&&t.parent.removeChild(t)}catch(e){egret.error("__removeDbbinAnimeAfterComplete error: "+t.name)}},n.prototype.__removeMovieCilpAfterComplete=function(e){try{var t=e.target;null!=t&&null!=t.parent&&t.parent.removeChild(t)}catch(e){egret.error("AnimationCompleted error")}},n.prototype.__disposeMovieAnimeAfterUnload=function(e){var t=e.target;this.__disposeMovie(t)},n.prototype.__disposeMovie=function(e){try{null!=e&&(e.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.__disposeMovieAnimeAfterUnload,this),e.removeEventListener(dragonBones.AnimationEvent.COMPLETE,this.__removeMovieCilpAfterComplete,this),e.isPlaying&&e.stop(),e.dispose())}catch(t){egret.error("__disposeMovie error")}e=null},n.prototype.__disposeDBFactoryData=function(e){var t=this.__dbFactoryTsMap;if(e){var n=t.remove(e);n&&(n.clear(),n=null)}else for(var i in t.entry){var n=t.remove(i);n&&(t.remove(i),n.clear(),n=null)}t=null},n.prototype.__disposeMovieClipData=function(e){e?dragonBones.removeMovieGroup(e):dragonBones.removeAllMovieGroup()},n.prototype.__startDbWorldClock=function(){this.hasEventListener(egret.Event.ENTER_FRAME)||this.addEventListener(egret.Event.ENTER_FRAME,this.__worlClock,this)},n.prototype.__stopDbWorldClock=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.__worlClock,this)},n.__initAnimeGenerator=function(){return e._dbAnimeGeneratorInstance||new e.DbAnimeGenerator},n}(egret.DisplayObject);e.DbAnimeGenerator=t,__reflect(t.prototype,"gardener.DbAnimeGenerator")}(gardener||(gardener={})),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})}),Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Array.prototype.shuffle=function(){for(var e=this,t=e.length-1;t>=0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[n];e[n]=e[t],e[t]=i}return e},Number.prototype.getRandomInteger=function(e,t){return t=isNaN(t)?0:t,e=isNaN(e)?0:e,Math.floor((e-t)*Math.random())+t};var TsMap=function(){function e(){this._size=0,this.entry=new Object}return e.prototype.put=function(e,t){this.containsKey(e)||(this._size++,this.entry[e]=t)},e.prototype.set=function(e,t){this.containsKey(e)&&(this.entry[e]=t)},e.prototype.get=function(e){return this.containsKey(e)?this.entry[e]:null},e.prototype.remove=function(e){var t=this.entry[e];return this.containsKey(e)&&delete this.entry[e]&&this._size--,t},e.prototype.containsKey=function(e){return e in this.entry},e.prototype.containsValue=function(e){for(var t in this.entry)if(this.entry[t]==e)return!0;return!1},Object.defineProperty(e.prototype,"values",{get:function(){var e=new Array;for(var t in this.entry)e.push(this.entry[t]);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){var e=new Array;for(var t in this.entry)e.push(t);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._size=0,this.entry=new Object},e}();__reflect(TsMap.prototype,"TsMap");